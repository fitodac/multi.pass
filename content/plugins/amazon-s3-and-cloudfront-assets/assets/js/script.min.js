!function(a,b){a(document).ready(function(){function c(b){a(".custom-endpoint-url-generating").toggle(!b),a(".custom-endpoint-url").toggle(b),a(".refresh-url-wrap").toggle(b)}function d(){var b=a("#as3cf-cdn-gzip-notice");"cloudfront"===a('#tab-assets input[name="domain"]:checked').val()&&a("#enable-gzip").is(":checked")?b.show():b.hide()}function e(){var b=!1;a("#enable-cron").is(":checked")&&a("#enable-addon").is(":checked")&&a(".next-scan").html()&&(b=!0),a(".as3cf-setting.enable-cron").toggleClass("hide",!b)}var f=a("#tab-assets");a(".as3cf-setting.enable-custom-endpoint").on("click","#refresh-url",function(b){b.preventDefault(),c(!1);var d={_nonce:as3cf_assets.nonces.generate_key,action:"as3cf-assets-generate-key"};a.ajax({url:ajaxurl,type:"POST",dataType:"JSON",data:d,error:function(a,b,d){alert(as3cf_assets.strings.generate_key_error+d),c(!0)},success:function(b,d,e){"undefined"!=typeof b.success?(a("#custom-endpoint-key").val(b.key),a(".display-custom-endpoint-key").html(b.key)):alert(as3cf.strings.generate_key_error+b.error),c(!0)}})}),f.on("click",".as3cf-manual-button",function(c){if(c.preventDefault(),!a(this).hasClass("disabled")){a(".as3cf-manual-button").addClass("disabled"),a(this).html(as3cf_assets.strings.processing+"&hellip;");var d=a(this).attr("id"),e=d.replace(/-/g,"_");e=e.replace("as3cf_assets_",""),b.ajax.send(d,{data:{_nonce:as3cf_assets.nonces[e]}}),window.location.href=as3cf_assets.redirect_url}}),f.on("change","#enable-cron, #enable-addon",function(a){e()}),d(),f.on("change",'input[name="domain"], #enable-gzip-wrap',function(a){d()})})}(jQuery,wp);